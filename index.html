<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The 8-Bit Kid's Adventure</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Introduction Section -->
        <section class="hero" id="introduction">
            <div class="hero-content">
                <h1 class="title">The 8-Bit Kid's Adventure</h1>
                <p class="subtitle">A pixelated journey through digital worlds</p>
                <div class="scroll-indicator">
                    <span>Scroll to begin</span>
                    <div class="arrow-down"></div>
                </div>
            </div>
            <div class="kid-container">
                <svg class="kid-svg" width="120" height="120" viewBox="0 0 120 120" id="kidSvg">
                    <!-- 8-bit kid character -->
                    <!-- Head -->
                    <rect x="40" y="20" width="40" height="40" fill="#FFD700" />
                    <!-- Hair -->
                    <rect x="35" y="15" width="50" height="10" fill="#8B4513" />
                    <rect x="30" y="20" width="10" height="15" fill="#8B4513" />
                    <rect x="80" y="20" width="10" height="15" fill="#8B4513" />
                    <!-- Eyes -->
                    <rect x="45" y="30" width="5" height="5" fill="#000" />
                    <rect x="70" y="30" width="5" height="5" fill="#000" />
                    <!-- Nose -->
                    <rect x="57" y="40" width="3" height="3" fill="#FF69B4" />
                    <!-- Mouth -->
                    <rect x="50" y="50" width="20" height="3" fill="#000" />
                    <!-- Body -->
                    <rect x="45" y="60" width="30" height="35" fill="#FF6B6B" />
                    <!-- Arms -->
                    <rect x="30" y="65" width="15" height="20" fill="#FFD700" />
                    <rect x="75" y="65" width="15" height="20" fill="#FFD700" />
                    <!-- Legs -->
                    <rect x="50" y="95" width="8" height="20" fill="#4ECDC4" />
                    <rect x="62" y="95" width="8" height="20" fill="#4ECDC4" />
                    <!-- Feet -->
                    <rect x="45" y="115" width="18" height="5" fill="#000" />
                    <rect x="57" y="115" width="18" height="5" fill="#000" />
                </svg>
            </div>
        </section>

        <!-- Heroes Section -->
        <section class="story-section" id="heroes">
            <div class="content">
                <h2>Meet Our Pixelated Heroes!</h2>
                <div class="character-comparison">
                    <div class="character-card">
                        <div class="character-content">
                            <div class="character-info">
                                <h3>8-Bit Kid</h3>
                                <p>Our classic pixelated friend with a charming retro style!</p>
                            </div>
                            <div class="character-svg-container">
                                <svg class="kid-svg eight-bit" width="100" height="140" viewBox="0 0 120 160">
                                    <!-- 8-bit kid character -->
                                    <!-- Head -->
                                    <rect x="40" y="20" width="40" height="40" fill="#FFD700" />
                                    <!-- Hair -->
                                    <rect x="35" y="15" width="50" height="10" fill="#8B4513" />
                                    <rect x="30" y="20" width="10" height="15" fill="#8B4513" />
                                    <rect x="80" y="20" width="10" height="15" fill="#8B4513" />
                                    <!-- Eyes -->
                                    <rect x="45" y="30" width="5" height="5" fill="#000" />
                                    <rect x="70" y="30" width="5" height="5" fill="#000" />
                                    <!-- Nose -->
                                    <rect x="57" y="40" width="3" height="3" fill="#FF69B4" />
                                    <!-- Mouth -->
                                    <rect x="50" y="50" width="20" height="3" fill="#000" />
                                    <!-- Body -->
                                    <rect x="45" y="60" width="30" height="35" fill="#FF6B6B" />
                                    <!-- Arms -->
                                    <rect x="30" y="65" width="15" height="20" fill="#FFD700" />
                                    <rect x="75" y="65" width="15" height="20" fill="#FFD700" />
                                    <!-- Legs -->
                                    <rect x="50" y="95" width="8" height="20" fill="#4ECDC4" />
                                    <rect x="62" y="95" width="8" height="20" fill="#4ECDC4" />
                                    <!-- Feet -->
                                    <rect x="45" y="115" width="18" height="5" fill="#000" />
                                    <rect x="57" y="115" width="18" height="5" fill="#000" />
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="character-card">
                        <div class="character-content">
                            <div class="character-info">
                                <h3>16-Bit Kid</h3>
                                <p>Our taller friend with longer legs and more detailed pixels!</p>
                            </div>
                            <div class="character-svg-container">
                                <svg class="kid-svg sixteen-bit" width="100" height="160" viewBox="0 0 120 180">
                                    <!-- 16-bit kid character (taller version) -->
                                    <!-- Head -->
                                    <rect x="40" y="20" width="40" height="40" fill="#FFD700" />
                                    <!-- Hair -->
                                    <rect x="35" y="15" width="50" height="10" fill="#8B4513" />
                                    <rect x="30" y="20" width="10" height="15" fill="#8B4513" />
                                    <rect x="80" y="20" width="10" height="15" fill="#8B4513" />
                                    <!-- Eyes -->
                                    <rect x="45" y="30" width="5" height="5" fill="#000" />
                                    <rect x="70" y="30" width="5" height="5" fill="#000" />
                                    <!-- Nose -->
                                    <rect x="57" y="40" width="3" height="3" fill="#FF69B4" />
                                    <!-- Mouth -->
                                    <rect x="50" y="50" width="20" height="3" fill="#000" />
                                    <!-- Body -->
                                    <rect x="45" y="60" width="30" height="35" fill="#FF6B6B" />
                                    <!-- Arms -->
                                    <rect x="30" y="65" width="15" height="20" fill="#FFD700" />
                                    <rect x="75" y="65" width="15" height="20" fill="#FFD700" />
                                    <!-- Legs (longer) -->
                                    <rect x="50" y="95" width="8" height="35" fill="#4ECDC4" />
                                    <rect x="62" y="95" width="8" height="35" fill="#4ECDC4" />
                                    <!-- Feet -->
                                    <rect x="45" y="130" width="18" height="5" fill="#000" />
                                    <rect x="57" y="130" width="18" height="5" fill="#000" />
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="character-question">
                    <p class="reveal-text">Who do you think will walk faster? Let's find out together!</p>
                </div>
            </div>
        </section>

        <!-- Chapter 1 -->
        <section class="story-section" id="chapter1">
            <div class="content">
                <h2>Chapter 1: Do height, weight and leg length affect speed in children?</h2>
                <p class="initial-text">Intuitively, leg length and height might make kids faster and weight might slow kids down...</p>
                <p class="reveal-text" style="opacity: 0;">but...</p>
            </div>
        </section>

        <!-- Chapter 2 -->
        <section class="story-section" id="chapter2">
            <div class="content">
                <h2>Chapter 2: Stride Patterns Analysis</h2>
                
                <!-- Stride Walker Visualization Container -->
                <div class="stride-visualization-container">
                    <div class="walker-section younger-section">
                        <h3>Younger Walker</h3>
                        <div class="walker-container">
                            <div class="ground">
                                <svg class="kid-svg younger" width="120" height="120" viewBox="0 0 120 120">
                                    <!-- SVG will be dynamically generated -->
                                </svg>
                            </div>
                            <div class="stats" id="youngerStats">
                                <p><span class="stat-label">Current Interval:</span> <span class="stat-value" id="currentIntervalYounger">-</span> ms</p>
                                <p><span class="stat-label">Avg Interval:</span> <span class="stat-value" id="avgIntervalYounger">-</span> ms</p>
                                <p><span class="stat-label">Std Dev:</span> <span class="stat-value" id="stdDevYounger">-</span> ms</p>
                                <p><span class="stat-label">Step Count:</span> <span class="stat-value" id="stepCountYounger">0</span></p>
                            </div>
                            <div class="controls">
                                <select id="subjectSelectYounger">
                                    <option value="">Loading subjects...</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="stride-variability-plot-container">
                                <h4 class="plot-title">Stride Interval Variability</h4>
                                <div class="small-plot-wrapper">
                                    <canvas id="strideVariabilityYounger" width="300" height="150"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="walker-section older-section">
                        <h3>Older Walker</h3>
                        <div class="walker-container">
                            <div class="ground">
                                <svg class="kid-svg older" width="120" height="120" viewBox="0 0 120 120">
                                    <!-- SVG will be dynamically generated -->
                                </svg>
                            </div>
                            <div class="stats" id="olderStats">
                                <p><span class="stat-label">Current Interval:</span> <span class="stat-value" id="currentIntervalOlder">-</span> ms</p>
                                <p><span class="stat-label">Avg Interval:</span> <span class="stat-value" id="avgIntervalOlder">-</span> ms</p>
                                <p><span class="stat-label">Std Dev:</span> <span class="stat-value" id="stdDevOlder">-</span> ms</p>
                                <p><span class="stat-label">Step Count:</span> <span class="stat-value" id="stepCountOlder">0</span></p>
                            </div>
                            <div class="controls">
                                <select id="subjectSelectOlder">
                                    <option value="">Loading subjects...</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="stride-variability-plot-container">
                                <h4 class="plot-title">Stride Interval Variability</h4>
                                <div class="small-plot-wrapper">
                                    <canvas id="strideVariabilityOlder" width="300" height="150"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="main-controls">
                    <button id="startButton">Start Walking</button>
                    <button id="playVariabilityButton" class="variability-btn">Play Variability</button>
                    <button id="pauseVariabilityButton" class="variability-btn" style="display: none;">Pause Variability</button>
                    <button id="resetVariabilityButton" class="variability-btn">Reset Charts</button>
                </div>
                
                <div class="age-group-insight">
                    <p><strong>Stride Analysis Insight:</strong> Compare how different age groups develop their unique walking patterns. Notice the varying stride intervals and movement dynamics!</p>
                </div>
            </div>
        </section>

        <!-- Chapter 3 -->
        <section class="story-section" id="chapter3">
            <div class="content">
                <h2>Chapter 3: Walker Comparison Race</h2>
                <p>Watch three different age groups race side by side. See how their speeds and characteristics create a fascinating comparison of human development.</p>
                
                <!-- Walker Comparison Visualization -->
                <div class="comparison-race-container">
                    <div class="stats-grid">
                        <div class="stat-box young-card" id="youngCard">
                            <h3 style="color: #4ECDC4;">Young Walker</h3>
                            <div class="walker-info" id="youngInfo">
                                Age: <span class="stat-value">-</span> months<br>
                                Speed: <span class="stat-value">-</span> m/s<br>
                                Leg Length: <span class="stat-value">-</span> inches
                            </div>
                            <label for="youngSelect">Choose subject:</label>
                            <select id="youngSelect"></select>
                        </div>
                        <div class="stat-box middle-card" id="middleCard">
                            <h3 style="color: #45b7d1;">Middle Walker</h3>
                            <div class="walker-info" id="middleInfo">
                                Age: <span class="stat-value">-</span> months<br>
                                Speed: <span class="stat-value">-</span> m/s<br>
                                Leg Length: <span class="stat-value">-</span> inches
                            </div>
                            <label for="middleSelect">Choose subject:</label>
                            <select id="middleSelect"></select>
                        </div>
                        <div class="stat-box old-card" id="oldCard">
                            <h3 style="color: #ff6b6b;">Old Walker</h3>
                            <div class="walker-info" id="oldInfo">
                                Age: <span class="stat-value">-</span> months<br>
                                Speed: <span class="stat-value">-</span> m/s<br>
                                Leg Length: <span class="stat-value">-</span> inches
                            </div>
                            <label for="oldSelect">Choose subject:</label>
                            <select id="oldSelect"></select>
                        </div>
                    </div>

                    <div class="walkers-container">
                        <div class="walker-item young-walker">
                            <h4 style="color: #4ECDC4;">Young Walker</h4>
                            <div class="ground young-ground">
                                <svg class="kid-svg young" width="120" height="120" viewBox="0 0 120 120">
                                    <!-- Young walker SVG content -->
                                </svg>
                            </div>
                        </div>
                        <div class="walker-item middle-walker">
                            <h4 style="color: #45b7d1;">Middle Walker</h4>
                            <div class="ground middle-ground">
                                <svg class="kid-svg middle" width="120" height="120" viewBox="0 0 120 120">
                                    <!-- Middle walker SVG content -->
                                </svg>
                            </div>
                        </div>
                        <div class="walker-item old-walker">
                            <h4 style="color: #ff6b6b;">Old Walker</h4>
                            <div class="ground old-ground">
                                <svg class="kid-svg old" width="120" height="120" viewBox="0 0 120 120">
                                    <!-- Old walker SVG content -->
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="race-controls">
                        <button class="race-button" id="raceButton">Start Race</button>
                    </div>
                </div>
                
                <div class="age-group-insight">
                    <p><strong>Race Analysis Insight:</strong> Watch how the three age groups demonstrate different speeds and movement patterns. The race reveals fascinating insights about motor development across ages!</p>
                </div>
            </div>
        </section>

        <!-- Chapter 4 -->
        <section class="story-section" id="chapter4">
            <div class="content">
                <h2>Chapter 4: Growth Trends</h2>
                <p>Discover how walking speeds evolve with age, revealing the science of human development.</p>
                
                <!-- Growth Trends Visualization - Compact Layout -->
                <div class="growth-trends-container">
                    <!-- Main visualization row -->
                    <div class="trend-main-row">
                        <div class="trend-chart-container">
                            <h3>Speed Development Over Age</h3>
                            <div class="trend-line-graph" id="trendLineGraph">
                                <div class="trend-axis y-axis">
                                    <div class="axis-label">Speed (m/s)</div>
                                    <div class="tick-marks">
                                        <span>1.5</span>
                                        <span>1.2</span>
                                        <span>0.9</span>
                                        <span>0.6</span>
                                    </div>
                                </div>
                                <div class="trend-axis x-axis">
                                    <div class="tick-marks">
                                        <span>3-6 yrs</span>
                                        <span>6-8 yrs</span>
                                        <span>11-13 yrs</span>
                                    </div>
                                    <div class="axis-label">Age Groups</div>
                                </div>
                                <div class="trend-line" id="trendLine"></div>
                                <div class="trend-points" id="trendPoints"></div>
                            </div>
                        </div>
                        
                        <!-- Compact insights column -->
                        <div class="growth-insights-compact">
                            <h3>Key Growth Insights</h3>
                            <div class="insight-summary">
                                <div class="insight-item young">
                                    <strong>Early Development (3-6)</strong>
                                    <span class="trend-stat" id="youngTrendStat">-</span>
                                    <small>Most variability, still mastering locomotion</small>
                                </div>
                                <div class="insight-item middle">
                                    <strong>Stabilization (6-8)</strong>
                                    <span class="trend-stat" id="middleTrendStat">-</span>
                                    <small>Crucial period, patterns become consistent</small>
                                </div>
                                <div class="insight-item old">
                                    <strong>Peak Performance (11-13)</strong>
                                    <span class="trend-stat" id="oldTrendStat">-</span>
                                    <small>Mature gait, optimal speed and efficiency</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chapter 5 -->
        <section class="story-section" id="chapter5">
            <div class="content">
                <h2>Chapter 5: Speed Analysis</h2>
                <p>Select any individual from our dataset and watch their unique walking pattern come to life. Every walker tells their own story through movement.</p>
                
                <!-- Individual Walker Analysis -->
                <div class="individual-walker-container">
                    <div class="walker-selection">
                        <h3>Choose Your Walker</h3>
                        <div class="selection-controls">
                            <div class="filter-group">
                                <label for="ageGroupFilter">Age Group:</label>
                                <select id="ageGroupFilter">
                                    <option value="all">All Groups</option>
                                    <option value="young">Young (3-6 years)</option>
                                    <option value="middle">Middle (6-8 years)</option>
                                    <option value="old">Old (11-13 years)</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="genderFilter">Gender:</label>
                                <select id="genderFilter">
                                    <option value="all">All Genders</option>
                                    <option value="M">Male</option>
                                    <option value="F">Female</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="individualSelect">Select Individual:</label>
                                <select id="individualSelect">
                                    <option value="">Choose a walker...</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="individual-visualization">
                        <div class="walker-display">
                            <div class="walker-info-panel" id="walkerInfoPanel">
                                <h4>Walker Details</h4>
                                <div class="info-grid">
                                    <div class="info-item">
                                        <span class="info-label">Age:</span>
                                        <span class="info-value" id="walkerAge">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Gender:</span>
                                        <span class="info-value" id="walkerGender">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Height:</span>
                                        <span class="info-value" id="walkerHeight">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Weight:</span>
                                        <span class="info-value" id="walkerWeight">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Leg Length:</span>
                                        <span class="info-value" id="walkerLegLength">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Speed:</span>
                                        <span class="info-value" id="walkerSpeed">-</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="walker-animation-area">
                                <div class="individual-ground">
                                    <svg class="kid-svg individual" width="150" height="150" viewBox="0 0 120 120">
                                        <!-- Individual walker SVG -->
                                    </svg>
                                </div>
                                <div class="animation-controls">
                                    <button id="individualWalkButton">Start Walking</button>
                                    <button id="resetWalkerButton">Reset</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stride-analysis-chart">
                            <h4>Stride Pattern Analysis</h4>
                            <canvas id="individualStrideChart" style="height: 250px;"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="age-group-insight">
                    <p><strong>Individual Analysis Insight:</strong> Every walker is unique! Explore how individual characteristics like age, height, and leg length influence their specific walking patterns and stride intervals.</p>
                </div>
            </div>
        </section>

        <!-- Chapter 6 -->
        <section class="story-section" id="chapter6">
            <div class="content">
                <h2>Chapter 6: Stride Length Patterns</h2>
                <p>Select any individual from our dataset and watch their unique walking pattern come to life. Every walker tells their own story through movement.</p>
                
                <!-- Individual Walker Analysis -->
                <div class="individual-walker-container">
                    <div class="walker-selection">
                        <h3>Choose Your Walker</h3>
                        <div class="selection-controls">
                            <div class="filter-group">
                                <label for="ageGroupFilter">Age Group:</label>
                                <select id="ageGroupFilter">
                                    <option value="all">All Groups</option>
                                    <option value="young">Young (3-6 years)</option>
                                    <option value="middle">Middle (6-8 years)</option>
                                    <option value="old">Old (11-13 years)</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="genderFilter">Gender:</label>
                                <select id="genderFilter">
                                    <option value="all">All Genders</option>
                                    <option value="M">Male</option>
                                    <option value="F">Female</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="individualSelect">Select Individual:</label>
                                <select id="individualSelect">
                                    <option value="">Choose a walker...</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="individual-visualization">
                        <div class="walker-display">
                            <div class="walker-info-panel" id="walkerInfoPanel">
                                <h4>Walker Details</h4>
                                <div class="info-grid">
                                    <div class="info-item">
                                        <span class="info-label">Age:</span>
                                        <span class="info-value" id="walkerAge">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Gender:</span>
                                        <span class="info-value" id="walkerGender">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Height:</span>
                                        <span class="info-value" id="walkerHeight">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Weight:</span>
                                        <span class="info-value" id="walkerWeight">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Leg Length:</span>
                                        <span class="info-value" id="walkerLegLength">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Speed:</span>
                                        <span class="info-value" id="walkerSpeed">-</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="walker-animation-area">
                                <div class="individual-ground">
                                    <svg class="kid-svg individual" width="150" height="150" viewBox="0 0 120 120">
                                        <!-- Individual walker SVG -->
                                    </svg>
                                </div>
                                <div class="animation-controls">
                                    <button id="individualWalkButton">Start Walking</button>
                                    <button id="resetWalkerButton">Reset</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stride-analysis-chart">
                            <h4>Stride Pattern Analysis</h4>
                            <canvas id="individualStrideChart" style="height: 250px;"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="age-group-insight">
                    <p><strong>Individual Analysis Insight:</strong> Every walker is unique! Explore how individual characteristics like age, height, and leg length influence their specific walking patterns and stride intervals.</p>
                </div>
            </div>
        </section>

        <!-- Chapter 7 -->
        <section class="story-section" id="chapter7">
            <div class="content">
                <h2>Chapter 7: Age Group Comparisons</h2>
                <p>All heroes unite! Watch as young, middle, and older children's walking patterns come together in an epic race.</p>
                
                <!-- Comparison Visualization -->
                <div class="comparison-container">
                    <div class="speed-indicator">
                        <span class="speed-label">Comparing All Age Groups:</span>
                        <div class="speed-comparison">
                            <div class="speed-group young">
                                <span class="group-label">Young (3-6)</span>
                                <span class="speed-value" id="speedValueComparisonYoung">-</span>
                            </div>
                            <div class="speed-group middle">
                                <span class="group-label">Middle (6-8)</span>
                                <span class="speed-value" id="speedValueComparisonMiddle">-</span>
                            </div>
                            <div class="speed-group old">
                                <span class="group-label">Older (11-13)</span>
                                <span class="speed-value" id="speedValueComparisonOld">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="comparison-race">
                        <div class="race-track">
                            <div class="race-lane young-lane">
                                <div class="lane-label">Young</div>
                                <div class="race-kid young-kid" id="raceKidYoung">
                                    <svg width="30" height="30" viewBox="0 0 120 120">
                                        <!-- Small young kid -->
                                        <rect x="42" y="25" width="36" height="36" fill="#FFD700" />
                                        <rect x="47" y="61" width="26" height="30" fill="#4ecdc4" />
                                        <rect x="52" y="91" width="6" height="16" fill="#4ECDC4" />
                                        <rect x="62" y="91" width="6" height="16" fill="#4ECDC4" />
                                    </svg>
                                </div>
                            </div>
                            <div class="race-lane middle-lane">
                                <div class="lane-label">Middle</div>
                                <div class="race-kid middle-kid" id="raceKidMiddle">
                                    <svg width="35" height="35" viewBox="0 0 120 120">
                                        <!-- Medium middle kid -->
                                        <rect x="40" y="22" width="40" height="40" fill="#FFD700" />
                                        <rect x="45" y="62" width="30" height="33" fill="#45b7d1" />
                                        <rect x="50" y="95" width="8" height="18" fill="#4ECDC4" />
                                        <rect x="62" y="95" width="8" height="18" fill="#4ECDC4" />
                                    </svg>
                                </div>
                            </div>
                            <div class="race-lane old-lane">
                                <div class="lane-label">Older</div>
                                <div class="race-kid old-kid" id="raceKidOld">
                                    <svg width="40" height="40" viewBox="0 0 120 120">
                                        <!-- Larger older kid -->
                                        <rect x="38" y="18" width="44" height="44" fill="#FFD700" />
                                        <rect x="43" y="62" width="34" height="36" fill="#ff6b6b" />
                                        <rect x="48" y="98" width="10" height="20" fill="#4ECDC4" />
                                        <rect x="62" y="98" width="10" height="20" fill="#4ECDC4" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chapter 8 -->
        <section class="story-section" id="chapter8">
            <div class="content">
                <h2>Chapter 8: Interactive Simulation</h2>
                <div class="simulation-container">
                    <div class="slider-controls">
                        <div class="slider-group">
                            <label for="age-slider">Age (months): <span id="age-value">40</span></label>
                            <input type="range" id="age-slider" min="40" max="163" value="40" class="slider">
                        </div>
                        <div class="slider-group">
                            <label for="height-slider">Height (inches): <span id="height-value">39</span></label>
                            <input type="range" id="height-slider" min="39" max="79" value="39" class="slider">
                        </div>
                        <div class="slider-group">
                            <label for="leg-length-slider">Leg Length (inches): <span id="leg-length-value">19.5</span></label>
                            <input type="range" id="leg-length-slider" min="19.5" max="37" value="19.5" step="0.1" class="slider">
                        </div>
                        <div class="slider-group">
                            <label for="stride-slider">Median Stride Interval (seconds): <span id="stride-value">0.84</span></label>
                            <input type="range" id="stride-slider" min="0.84" max="1.19" value="0.84" step="0.01" class="slider">
                        </div>
                    </div>
                    
                    <div class="speed-display">
                        <h3>Predicted Walking Speed</h3>
                        <div class="speed-value" id="predicted-speed">Calculating...</div>
                        <div class="speed-explanation">
                            <p>This simulation uses a mathematical model to predict walking speed based on physical characteristics.</p>
                            <p>Adjust the sliders to see how different factors affect walking speed!</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Final Section -->
        <section class="story-section final" id="final">
            <div class="content">
                <h2>The Journey's End</h2>
                <div class="final-content">
                    <div class="final-summary">
                        <h3>What We've Learned</h3>
                        <div class="insight-cards">
                            <div class="insight-card">
                                <h4>Height & Speed</h4>
                                <p>While taller children often have longer legs, their walking speed isn't always faster. The relationship between height and speed is more complex than it appears!</p>
                            </div>
                            <div class="insight-card">
                                <h4>Development Patterns</h4>
                                <p>Children's walking patterns evolve significantly as they grow, with stride length and frequency showing unique developmental trends.</p>
                            </div>
                            <div class="insight-card">
                                <h4>Individual Variation</h4>
                                <p>Each child develops their own unique walking style, influenced by various factors beyond just physical measurements.</p>
                            </div>
                        </div>
                    </div>
                    <div class="final-characters">
                        <div class="character-final">
                            <svg class="kid-svg eight-bit-final" width="120" height="140" viewBox="0 0 120 160">
                                <!-- 8-bit kid character (same as before) -->
                                <!-- ... existing SVG content ... -->
                            </svg>
                            <p>8-Bit Kid</p>
                        </div>
                        <div class="character-final">
                            <svg class="kid-svg sixteen-bit-final" width="120" height="160" viewBox="0 0 120 180">
                                <!-- 16-bit kid character (same as before) -->
                                <!-- ... existing SVG content ... -->
                            </svg>
                            <p>16-Bit Kid</p>
                        </div>
                    </div>
                    <div class="final-message">
                        <p class="reveal-text">Thank you for joining us on this pixelated journey through the fascinating world of children's walking patterns!</p>
                        <button class="restart-btn" onclick="location.reload()">Start Journey Again</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>